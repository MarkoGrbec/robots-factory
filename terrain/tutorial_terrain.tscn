[gd_scene load_steps=8 format=4 uid="uid://1ki7w3rxdi64"]

[ext_resource type="TileSet" uid="uid://cxjxodvo5kmfv" path="res://my assets/Tiles/tile_set.tres" id="1_dfght"]
[ext_resource type="Script" uid="uid://cd6ersvk34ijd" path="res://terrain/TileMapLayers.gd" id="1_viixf"]
[ext_resource type="TileSet" uid="uid://dfqqfwevxofgt" path="res://my assets/Tiles/tile_set_inside.tres" id="3_bd202"]
[ext_resource type="Script" uid="uid://dtpmm8vlj60ev" path="res://main/MapGroundLayer.gd" id="4_vg0hu"]
[ext_resource type="Script" uid="uid://luh38krjrogw" path="res://my assets/entity/EntityManager.gd" id="5_0fpyx"]
[ext_resource type="PackedScene" uid="uid://c657hgr7fcptm" path="res://my assets/player2D/player.tscn" id="5_66pks"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_vg0hu"]
vertices = PackedVector2Array(613, 29.0938, 635, 32.1875, 635, 75.6875, 581, 33.6016, 667, 80.1875, 667, 115.477, 635, 123.102, 399, 219.039, 635, 171.688, 667, 176.188, 667, 211.477, 635, 219.102, 399, 267.688, 635, 267.688, 667, 272.188, 667, 307.477, 635, 315.102, 356.953, 360.719, 335, 355.656, 335, 320.188, 367, 315.688, 388.461, 353.227, 420.953, 360.719, 367, 272.188, 452.461, 353.227, 36.9531, 360.719, 15, 355.656, 15, 320.188, 47, 315.688, 68.4609, 353.227, 15, 259.656, 15, 224.188, 47, 219.688, 47, 267.039, 47, 171.039, 15, 163.656, 15, 128.188, 47, 123.688, 251, 171.688, 47, 75.0391, 15, 67.6562, 15, 32.1875, 37, 29.0938, 69, 33.6016, 293, 29.0938, 315, 32.1875, 315, 67.4766, 283, 75.1016, 261, 33.6016, 356.461, 209.227, 335, 171.688, 335, 128.188, 367, 123.688, 367, 80.1875, 399, 75.6875, 399, 32.1875, 421, 29.0938, 453, 33.6016, 635, 355.477, 612.953, 360.719, 580.461, 353.227, 251, 315.102, 251, 355.477, 228.953, 360.719, 196.461, 353.227, 315, 219.102, 315, 259.477, 283, 267.102, 293, 177.602, 283, 307.477, 229, 29.0938, 283, 115.477, 251, 123.102, 197, 33.6016, 516.461, 353.227, 548.953, 360.719, 101, 29.0938, 133, 33.6016, 549, 29.0938, 517, 33.6016, 165, 29.0938, 485, 29.0938, 100.953, 360.719, 132.461, 353.227, 164.953, 360.719, 484.953, 360.719, 751, 411.688, 1824.91, 1201.91, -1017.91, 1174.08, 709, 417.602, 677, 413.094, 645, 417.602, 613, 413.094, 581, 417.602, 549, 413.094, 517, 417.602, 485, 413.094, 453, 417.602, 421, 413.094, 389, 417.602, 357, 413.094, 325, 417.602, 293, 413.094, 261, 417.602, 229, 413.094, 197, 417.602, 165, 413.094, 133, 417.602, 101, 413.094, 69, 417.602, 37, 413.094, 5, 417.602, -37, 411.688, 2640.66, -2650.99, 751, 363.039, 719, 355.656, 719, 320.188, 751, 315.688, 751, 267.039, 719, 259.656, 719, 224.188, 751, 219.688, 751, 171.039, 719, 163.656, 719, 128.188, 751, 123.688, 751, 75.0391, 719, 67.6562, 719, 32.1875, 751, 27.6875, 751, -20.9609, -1387.98, -2650, 708.461, -30.7734, 676.953, -23.2734, 644.461, -30.7734, 612.953, -23.2734, 580.461, -30.7734, 548.953, -23.2734, 516.461, -30.7734, 484.953, -23.2734, 452.461, -30.7734, 420.953, -23.2734, 388.461, -30.7734, 356.953, -23.2734, 324.461, -30.7734, 292.953, -23.2734, 260.461, -30.7734, 228.953, -23.2734, 196.461, -30.7734, 164.953, -23.2734, 132.461, -30.7734, 100.953, -23.2734, 68.4609, -30.7734, 36.9531, -23.2734, 4.46094, -30.7734, -37, -20.8984, -69, 27.1016, -69, 75.6875, -37, 80.1875, -37, 115.477, -69, 123.102, -69, 171.688, -37, 176.188, -37, 211.477, -69, 219.102, -69, 267.688, -37, 272.188, -37, 307.477, -69, 315.102, -69, 363.688, -37, 368.188, -37, 19.4766)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(2, 4, 5, 6), PackedInt32Array(7, 8, 9, 10, 11, 12), PackedInt32Array(13, 14, 15, 16), PackedInt32Array(17, 18, 19, 20, 21), PackedInt32Array(22, 21, 20, 23, 12, 24), PackedInt32Array(25, 26, 27, 28, 29), PackedInt32Array(30, 31, 32, 33), PackedInt32Array(34, 35, 36, 37, 38), PackedInt32Array(39, 40, 41, 42, 43), PackedInt32Array(44, 45, 46, 47, 48), PackedInt32Array(49, 50, 51, 52, 7), PackedInt32Array(52, 53, 54, 7), PackedInt32Array(54, 55, 56, 57), PackedInt32Array(16, 58, 59, 60), PackedInt32Array(61, 62, 63, 64), PackedInt32Array(65, 66, 67, 38, 68), PackedInt32Array(67, 69, 61, 38), PackedInt32Array(70, 48, 47, 71, 72, 73), PackedInt32Array(74, 13, 16, 60, 75), PackedInt32Array(38, 37, 39, 43, 76, 77, 72), PackedInt32Array(78, 3, 2, 6, 79), PackedInt32Array(80, 73, 72, 77), PackedInt32Array(57, 81, 79, 6, 8, 7, 54), PackedInt32Array(32, 34, 38), PackedInt32Array(33, 32, 38), PackedInt32Array(82, 29, 28, 33, 38, 83), PackedInt32Array(64, 84, 83, 38, 61), PackedInt32Array(65, 68, 50, 49), PackedInt32Array(74, 85, 24, 12, 11, 13), PackedInt32Array(86, 87, 88, 89), PackedInt32Array(90, 89, 88, 91), PackedInt32Array(92, 91, 88, 93), PackedInt32Array(94, 93, 88, 95), PackedInt32Array(96, 95, 88, 97), PackedInt32Array(98, 97, 88, 99), PackedInt32Array(100, 99, 88, 101), PackedInt32Array(102, 101, 88, 103), PackedInt32Array(104, 103, 88, 105), PackedInt32Array(106, 105, 88, 107), PackedInt32Array(108, 107, 88, 109), PackedInt32Array(110, 109, 88, 111), PackedInt32Array(112, 111, 88), PackedInt32Array(113, 87, 86, 114), PackedInt32Array(115, 116, 117, 114), PackedInt32Array(113, 114, 117), PackedInt32Array(113, 117, 118), PackedInt32Array(119, 120, 121, 118), PackedInt32Array(113, 118, 121), PackedInt32Array(113, 121, 122), PackedInt32Array(123, 124, 125, 122), PackedInt32Array(113, 122, 125), PackedInt32Array(113, 125, 126), PackedInt32Array(127, 128, 129, 126), PackedInt32Array(113, 126, 129), PackedInt32Array(113, 129, 130), PackedInt32Array(131, 113, 130, 132), PackedInt32Array(131, 132, 133, 134), PackedInt32Array(131, 134, 135, 136), PackedInt32Array(131, 136, 137, 138), PackedInt32Array(131, 138, 139, 140), PackedInt32Array(131, 140, 141, 142), PackedInt32Array(131, 142, 143, 144), PackedInt32Array(131, 144, 145, 146), PackedInt32Array(131, 146, 147, 148), PackedInt32Array(131, 148, 149, 150), PackedInt32Array(131, 150, 151, 152), PackedInt32Array(131, 152, 153, 154), PackedInt32Array(131, 154, 155), PackedInt32Array(88, 131, 155, 156), PackedInt32Array(157, 158, 159, 160), PackedInt32Array(161, 162, 163, 164), PackedInt32Array(165, 166, 167, 168), PackedInt32Array(169, 170, 112, 88), PackedInt32Array(155, 171, 156), PackedInt32Array(88, 156, 157), PackedInt32Array(88, 157, 160), PackedInt32Array(88, 160, 161), PackedInt32Array(88, 161, 164), PackedInt32Array(88, 164, 165), PackedInt32Array(88, 165, 168), PackedInt32Array(88, 168, 169)])
outlines = Array[PackedVector2Array]([PackedVector2Array(-1399, -2660, -1027, 1184, 1833, 1212, 2653, -2661)])

[node name="Node2D" type="Node2D"]

[node name="tile map layers" type="Node2D" parent="." node_paths=PackedStringArray("ground_layer", "navigation_region_2d")]
script = ExtResource("1_viixf")
ground_layer = [NodePath("../Map/NavigationRegion2D/GroundTileMapLayer"), NodePath("UnderGroundTileMapLayer2"), NodePath("UnderGroundTileMapLayer3"), NodePath("UnderGroundTileMapLayer4"), NodePath("GroundLayerTileMapLayerInsideHouses")]
navigation_region_2d = NodePath("../Map/NavigationRegion2D")

[node name="UnderGroundTileMapLayer2" type="TileMapLayer" parent="tile map layers"]
scale = Vector2(0.5, 0.5)
enabled = false
tile_set = ExtResource("1_dfght")

[node name="UnderGroundTileMapLayer3" type="TileMapLayer" parent="tile map layers"]
scale = Vector2(0.5, 0.5)
enabled = false
tile_set = ExtResource("1_dfght")

[node name="UnderGroundTileMapLayer4" type="TileMapLayer" parent="tile map layers"]
scale = Vector2(0.5, 0.5)
enabled = false
tile_set = ExtResource("1_dfght")

[node name="GroundLayerTileMapLayerInsideHouses" type="TileMapLayer" parent="tile map layers"]
enabled = false
tile_set = ExtResource("3_bd202")

[node name="Map" type="Node2D" parent="."]
script = ExtResource("4_vg0hu")

[node name="underground_layer1" type="Node2D" parent="Map"]
position = Vector2(-5, -19)

[node name="underground_layer2" type="Node2D" parent="Map"]
position = Vector2(-5, -19)

[node name="underground_layer3" type="Node2D" parent="Map"]
position = Vector2(-5, -19)

[node name="inside_houses_layer1" type="Node2D" parent="Map"]
position = Vector2(-5, -19)

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="Map"]
position = Vector2(-5, -19)
navigation_polygon = SubResource("NavigationPolygon_vg0hu")

[node name="GroundTileMapLayer" type="TileMapLayer" parent="Map/NavigationRegion2D"]
position = Vector2(5, 19)
scale = Vector2(0.5, 0.5)
tile_map_data = PackedByteArray("AAAAAAAAAQAAAAAAAAABAAAAAQAAAAAAAAACAAAAAQAAAAAAAAADAAAAAQAAAAAAAAAEAAAAAQAAAAAAAAAFAAAAAwAAAAAAAAAGAAAAAQAAAAAAAAAHAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAIAAEAAAAAAAAAAAAHAAEAAAAAAAAAAAAGAAEAAAAAAAAAAAAFAAEAAQAAAAAAAAAEAAEAAwAAAAAAAAADAAEAAQAAAAAAAAACAAEAAQAAAAAAAAABAAEAAQAAAAAAAAAAAAEAAQAAAAAAAAABAAIAAQAAAAAAAAACAAIAAQAAAAAAAAADAAIAAQAAAAAAAAAEAAIAAwAAAAAAAAAFAAIAAQAAAAAAAAAGAAIAAQAAAAAAAAAHAAIAAAAAAAAAAAAIAAIAAAAAAAAAAAAAAAIAAQAAAAAAAAAJAAIAAQAAAAAAAAAIAAMAAQAAAAAAAAAHAAMAAQAAAAAAAAAGAAMAAQAAAAAAAAAFAAMAAQAAAAAAAAAEAAMAAQAAAAAAAAADAAMAAQAAAAAAAAACAAMAAgAAAAAAAAABAAMAAgAAAAAAAAAAAAMAAQAAAAAAAAABAAQAAgAAAAAAAAAAAAUAAQAAAAAAAAAAAAQAAQAAAAAAAAAAAAYAAQAAAAAAAAABAAYAAQAAAAAAAAACAAYAAQAAAAAAAAADAAYAAQAAAAAAAAAEAAYAAwAAAAAAAAAFAAYAAQAAAAAAAAAGAAYAAQAAAAAAAAAHAAYAAQAAAAAAAAAIAAYAAQAAAAAAAAAIAAUAAQAAAAAAAAAJAAQAAQAAAAAAAAAJAAAAAQAAAAAAAAAJAAYAAQAAAAAAAAAHAAUAAQAAAAAAAAAIAAQAAQAAAAAAAAAHAAQAAQAAAAAAAAAGAAUAAQAAAAAAAAAFAAUAAQAAAAAAAAAEAAUAAwAAAAAAAAAFAAQAAwAAAAAAAAAGAAQAAQAAAAAAAAAEAAQAAQAAAAAAAAADAAUAAQAAAAAAAAADAAQAAgAAAAAAAAACAAUAAgAAAAAAAAACAAQAAgAAAAAAAAABAAUAAgAAAAAAAAD//wcAAwAAAAAAAAD//wYAAwAAAAAAAAD//wUAAwAAAAAAAAD//wQAAwAAAAAAAAD//wMAAwAAAAAAAAD//wIAAwAAAAAAAAD//wEAAwAAAAAAAAD//wAAAwAAAAAAAAD/////AwAAAAAAAAAAAP//AwAAAAAAAAABAP//AwAAAAAAAAACAP//AwAAAAAAAAADAP//AwAAAAAAAAAEAP//AwAAAAAAAAAFAP//AwAAAAAAAAAGAP//AwAAAAAAAAAHAP//AwAAAAAAAAAIAP//AwAAAAAAAAAJAP//AwAAAAAAAAAKAAAAAwAAAAAAAAAJAAEAAQAAAAAAAAAKAAIAAwAAAAAAAAAJAAMAAQAAAAAAAAAKAAQAAwAAAAAAAAAJAAUAAQAAAAAAAAAKAAYAAwAAAAAAAAAJAAcAAwAAAAAAAAAIAAcAAwAAAAAAAAAHAAcAAwAAAAAAAAAGAAcAAwAAAAAAAAAFAAcAAwAAAAAAAAAEAAcAAwAAAAAAAAADAAcAAwAAAAAAAAACAAcAAwAAAAAAAAABAAcAAwAAAAAAAAAAAAcAAwAAAAAAAAAKAP//AwAAAAAAAAAKAAEAAwAAAAAAAAAKAAMAAwAAAAAAAAAKAAUAAwAAAAAAAAAKAAcAAwAAAAAAAAA=")
tile_set = ExtResource("1_dfght")

[node name="entity_manager" type="Node2D" parent="Map/NavigationRegion2D" node_paths=PackedStringArray("array_layers", "navigation_region_2d")]
script = ExtResource("5_0fpyx")
array_layers = [NodePath("ground_layer"), NodePath("../../underground_layer1"), NodePath("../../underground_layer2"), NodePath("../../underground_layer3"), NodePath("../../inside_houses_layer1")]
navigation_region_2d = NodePath("..")

[node name="ground_layer" type="Node2D" parent="Map/NavigationRegion2D/entity_manager"]

[node name="CPPlayer" parent="." instance=ExtResource("5_66pks")]
z_index = 1
position = Vector2(73, 73)

[node name="player name" parent="CPPlayer/controller" index="3"]
text = "test player"

[node name="Hip" parent="CPPlayer/visuals/Skeleton2D" index="0"]
scale = Vector2(1, 1)

[node name="Chest" parent="CPPlayer/visuals/Skeleton2D/Hip" index="0"]
scale = Vector2(0.999995, 0.999995)

[node name="LeftLeg" parent="CPPlayer/visuals/Skeleton2D/Hip" index="1"]
scale = Vector2(1, 1)

[editable path="CPPlayer"]
